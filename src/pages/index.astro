---
import MainLayout from '../layouts/MainLayout.astro';
// import { gsap } from "gsap";
// import  gsap  from "gsap";
---

<MainLayout title='Main Page'>
  <div class='wrapper'>
    <div class='container mask'>
      <!-- <img class="bus" src='/images/background-image.png' alt='' /> -->
    </div>
    <aside class='aside-container'>
      <div class='wrapper-container mask'>
        <h1 class='main-heading'>BR ROPE PARTNERS</h1>
        <div class='grid'>
          <div class='grid-item'>
            <h2><p class='text-item'>Rope Access</p></h2>
            <div class='box'>
              <p class='enter-text'>ENTER</p>
              <svg
                class='arrow'
                width='28'
                height='24'
                viewBox='0 0 28 24'
              >
                <path
                  d='M27.0607 13.0673C27.6464 12.4815 27.6464 11.5317 27.0607 10.9459L17.5147 1.39999C16.9289 0.814204 15.9792 0.814204 15.3934 1.39999C14.8076 1.98578 14.8076 2.93552 15.3934 3.52131L23.8787 12.0066L15.3934 20.4919C14.8076 21.0777 14.8076 22.0274 15.3934 22.6132C15.9792 23.199 16.9289 23.199 17.5147 22.6132L27.0607 13.0673ZM0 13.5066H26V10.5066H0V13.5066Z'
                  fill='black'></path>
              </svg>
            </div>
          </div>
          <div class='grid-item'>
            <p class='text-item'>Arborist Tree Surgery</p>
            <div class='box'>
              <p class='enter-text'>ENTER</p>
              <svg
                class='arrow'
                width='28'
                height='24'
                viewBox='0 0 28 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
              >
                <path
                  d='M27.0607 13.0673C27.6464 12.4815 27.6464 11.5317 27.0607 10.9459L17.5147 1.39999C16.9289 0.814204 15.9792 0.814204 15.3934 1.39999C14.8076 1.98578 14.8076 2.93552 15.3934 3.52131L23.8787 12.0066L15.3934 20.4919C14.8076 21.0777 14.8076 22.0274 15.3934 22.6132C15.9792 23.199 16.9289 23.199 17.5147 22.6132L27.0607 13.0673ZM0 13.5066H26V10.5066H0V13.5066Z'
                  fill='black'></path>
              </svg>
            </div>
          </div>
          <div class='grid-item'>
            <p class='text-item'>Customers</p>
            <div class='box'>
              <p class='enter-text'>ENTER</p>
              <svg
                class='arrow'
                width='28'
                height='24'
                viewBox='0 0 28 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
               
              >
    

                <path
                  d='M27.0607 13.0673C27.6464 12.4815 27.6464 11.5317 27.0607 10.9459L17.5147 1.39999C16.9289 0.814204 15.9792 0.814204 15.3934 1.39999C14.8076 1.98578 14.8076 2.93552 15.3934 3.52131L23.8787 12.0066L15.3934 20.4919C14.8076 21.0777 14.8076 22.0274 15.3934 22.6132C15.9792 23.199 16.9289 23.199 17.5147 22.6132L27.0607 13.0673ZM0 13.5066H26V10.5066H0V13.5066Z'
                  fill='black'></path>
              </svg>
            </div>
          </div>
          <div class='grid-item'>
            <p class='text-item'>Certificates</p>
            <div class='box'>
              <p class='enter-text'>ENTER</p>
              <svg
                class='arrow'
                width='28'
                height='24'
                viewBox='0 0 28 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
              >
                <path
                  d='M27.0607 13.0673C27.6464 12.4815 27.6464 11.5317 27.0607 10.9459L17.5147 1.39999C16.9289 0.814204 15.9792 0.814204 15.3934 1.39999C14.8076 1.98578 14.8076 2.93552 15.3934 3.52131L23.8787 12.0066L15.3934 20.4919C14.8076 21.0777 14.8076 22.0274 15.3934 22.6132C15.9792 23.199 16.9289 23.199 17.5147 22.6132L27.0607 13.0673ZM0 13.5066H26V10.5066H0V13.5066Z'
                  fill='black'></path>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </aside>
  </div>

  <style>
    .wrapper {
      display: flex;
      /* align-items: center; */
      height: 85vh;
      /* width: 100vw; */
      background-color: #fff;
      overflow: hidden;
      background-color: #f1f2ed;
      @media screen and (max-width: 768px) {
        /* flex-direction: column; */
        display: block;
        height: auto;
      }
    }

    .container {
      display: flex;
      align-items: flex-end;
      justify-content: flex-end;
      background-image: url('/images/background-image.png');
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;

      height: 90vh;
      width: 60vw;
      margin: 44px;
      /* filter: grayscale(60%); */
      /* filter: grayscale(0.7); */



      
      @media screen and (max-width: 768px) {
        width: auto;
        margin: 10px;
      }
    }

    .aside-container {
      display: flex;
      align-items: center;
      width: 40vw;

      height: 95vh;

      /* height: 70%; */
      /* padding: 1vw; */
      margin: 44px;
      /* background-color: #c7c5c5; */
      /* background-color: #f1f2ed; */
      /* background-color: #9f7e44; */
      /* background-color: #717c7f; */
      background-color: #f1f2ed;
      @media screen and (max-width: 768px) {
        flex-direction: column;
        width: auto;
        margin: 10px;
        height: auto;
      }
    }

    .wrapper-container {
      height: 100%;
    }

    .main-heading {
      font-size: 22px;
      font-weight: 600;
      color: #3955869;
      display: flex;
      height: 20vh;
      @media screen and (max-width: 768px) {
        justify-content: center;
        align-items: center;
        height: 100px;

        text-align: center;
        font-size: 1.5rem;
      }
    }



    .mask {
      width: 100%;
      height: 100%;
      overflow: hidden;
      clip-path: polygon(30% 30%, 70% 30%, 70% 70%, 30% 70%);
    }

    .bus {
      width: 100%;
      height: 100%;
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
      object-fit: cover;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr); /* Two columns with equal width */
      grid-template-rows: repeat(2, 1fr); /* Two rows with equal height */
      /* gap: 10px;  */
      width: 40vw; /* Specify the desired width for the grid container */
      height: 55vh;
      @media screen and (max-width: 768px) {
        grid-template-columns: repeat(
          1,
          1fr
        ); /* Two columns with equal width */
        width: auto;
        height: auto;
      }
    }

    .arrow {
      opacity: 1;
      transition: opacity 0.5s ease-in-out 0.7s;
   
    }

    .grid-item:hover > .box {
      /* transition: all 0.3s ease-in-out; */
      /* transform: translate(150%, 330%); */
      transform: translateX(100%);

      .arrow {
        /* transition: all 0.3s ease-in-out;
        transform: rotate(180deg); */

        /* transition: all 0.3s ease-in-out 0.2s; */

        /* transform: translateX(100%); */

        /* transition: opacity  1.2s ease-in 1.3s; */
        transition: opacity 0.1s ease-in-out 0.1s;
        opacity: 0;
      }
    }

    .grid-item {
      /* width: 100%;
      height: 100%; */
      display: flex;
      flex-direction: column;
      justify-content: space-evenly;
      padding: 1vw;
      align-items: center;
      border-top: 1px solid #868585;
      border-bottom: 1px solid #868585;
      border-left: 1px solid transparent;
      border-right: 1px solid transparent;
      width: 90%;
      transition: all 0.4s ease-in-out;
      &:nth-child(1),
      &:nth-child(2) {
        border-bottom: none;
      }
      &:hover {
        cursor: pointer;
        background-color: #f2a40b;
        background-color: #909da7;
        background-color: #56778C;
        /* border-top-color: #f2a40b;
        border-bottom-color: #f2a40b; */

        border-left: 1px solid #000;
        border-right: 1px solid #000;
        border-top: 1px solid #000;
        border-bottom: 1px solid #000;
      }
      @media screen and (max-width: 768px) {
        height: 200px;
        width: 350px;
        &:nth-child(4) {
          border-top: none;
        }
      }
    }

    .text-item {
      font-size: 1.1vw;
       color: #404138; 
       color: #6a6a6a; 

      transition: all 0.4s ease-in-out;
      /* width: 10vw; */
      /* height: 10vw; */
      @media screen and (max-width: 768px) {
        font-size: 16px;
      }
    }

    .box {
      /* display: flex; */
      align-items: center;

      position: relative;

      .enter-text {
        /* margin-right: 10px; */
        transition: all 0.6s ease-in 0.6s;
        transition: all 0.4s ease-out 0.4s;
        opacity: 0;

        /* transform: translateX(-200%); */

        color: #f2a40b;
        width: 100%;
        display: flex;
        justify-content: center;

        position: absolute;
        /* top: 50%; */
        /* left: 50%; */
        /* transform: translate(-50%, -50%); */
      }

      transition: all 0.4s ease-in-out;
      &:hover {

        /* transform: translate(10vw, 10vw); */
      }
    }

    .grid-item:hover .enter-text {
      opacity: 1;

      transform: translateX(-100%);

      color: #000;
    }

    .grid-item:hover .text-item {
      color: #000;
    }

    .link-wrapper {
      display: flex;
      align-items: center;
      width: 100%;
    }

    .links {
      display: flex;
      flex-direction: column;
      height: 100%;
      width: 100%;
      font-size: 2.3vw;
      /* text-decoration: underline; */

      .link {
        margin: 30px 0 15px;

        width: 100%;
        padding: 30px 0 0 30px;
      }
    }
  </style>
  <script>
    gsap.set('.mask', { rotation: 0.1 }); //removes pixel-snapping in FireFox

    const tl = gsap
      .timeline()
      .from('.bus', { scale: 2 })
      .to(
        '.mask',
        { clipPath: 'polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)' },
        0
      )
      .to('.mask', { scale: 0.95, duration: 1.6 });

    GSDevTools.create({ animation: tl });

    
  </script>
</MainLayout>
